Ошибка заключалась в том, что callback-и использовали переменную request, которая имела scope не тела цикла, как мог предположить автор кода, а являлась в данном случае глобальной. После прохода по внешнему циклу она становилась равной '/populations'. И в responses['/cities'], responses['/countries'] никогда не присваивались значения.

Как этого избежать: помнить про scope переменных. Не объявлять их в циклах ради избежания таких ошибок. Можно использовать стандартную для JS практику, когда переменные объявляются в начале функции.

Дополнительный момент: нужно следить за тем, чтобы случайно не захватить изменяемую переменную, когда на самом деле нужно её значение. В данном случае для захвата "по значению" можно обернуть callback во вспомогательную функцию, и передавать это значение в неё явно.
